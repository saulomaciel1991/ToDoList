<ion-header [translucent]="true" mode="ios">
  <ion-toolbar color="primary">
    <ion-title class="animate__animated animate__lightSpeedInRight">
      Lista de Tarefas
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" mode="ios">
  <ion-list class="animate__animated animate__lightSpeedInLeft">
    <ion-item *ngIf="tarefaCollection.length < 1">
      <ion-label>NÃ£o hÃ¡ Tarefas</ion-label>
    </ion-item>
    <ion-item-sliding *ngFor="let item of tarefaCollection; let i = index">
      <ng-template [ngIf]="ocultaConcluidos == false" [ngIfElse]="loading">
        <ion-item (click)="openActions(item)" *ngIf="ocultaConcluidos == false">
          <ion-label>
            <ion-item *ngIf="item.feito == false">
              <ion-icon
                slot="start"
                name="information-circle"
                color="warning"
              ></ion-icon>
              <h3>{{item.tarefa}}</h3>
            </ion-item>

            <ion-item *ngIf="item.feito == true">
              <ion-icon
                slot="start"
                name="checkmark-circle"
                color="success"
              ></ion-icon>
              <h3><del>{{item.tarefa}}</del></h3>
            </ion-item>
          </ion-label>
        </ion-item>

        <ion-item-options>
          <!-- <ion-item-option color="warning">
            <ion-icon name="create"></ion-icon>
          </ion-item-option> -->
          <ion-item-option color="danger" (click)="excluir(item)">
            <ion-icon name="trash"></ion-icon>
          </ion-item-option>
        </ion-item-options>
      </ng-template>

      <ng-template #loading>
        <ion-item *ngIf="item.feito == false">
          <ion-label>
            <ion-item (click)="openActions(item)">
              <ion-icon
                slot="start"
                name="information-circle"
                color="warning"
              ></ion-icon>
              <h3>{{item.tarefa}}</h3>
            </ion-item>
          </ion-label>

          <ion-item-options>
            <!-- <ion-item-option color="warning">
              <ion-icon name="create"></ion-icon>
            </ion-item-option> -->
            <ion-item-option color="danger" (click)="excluir(item)">
              <ion-icon name="trash"></ion-icon>
            </ion-item-option>
          </ion-item-options>
        </ion-item>
      </ng-template>
    </ion-item-sliding>

    <ion-button
      color="danger"
      expand="block"
      *ngIf="ocultaConcluidos == false"
      (click)="alternaFeitos()"
      >Esconder Tarefas Feitas</ion-button
    >
    <ion-button
      color="success"
      expand="block"
      *ngIf="ocultaConcluidos == true"
      (click)="alternaFeitos()"
      >Reexibir Tarefas Feitas</ion-button
    >
  </ion-list>

  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button color="primary" (click)="showAdd()">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>

<ion-footer>
  <ion-toolbar color="primary">
    <ion-title
      class="animate__animated animate__lightSpeedInRight ion-text-center"
    >
      <h3>V1.0.5</h3>
    </ion-title>
  </ion-toolbar>
</ion-footer>
